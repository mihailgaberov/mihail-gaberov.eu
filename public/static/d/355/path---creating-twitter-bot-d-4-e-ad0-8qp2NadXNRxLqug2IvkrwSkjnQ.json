{"data":{"markdownRemark":{"html":"<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1ad653f7e403b232b2d354ece8f3cc28/30631/creating-twitter-bot-head-img.jpeg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 66.625%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAQL/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABjZk8qzgP/8QAGxAAAgEFAAAAAAAAAAAAAAAAAAIBAxEiI0L/2gAIAQEAAQUCWlg6yhKkNp4uf//EABYRAAMAAAAAAAAAAAAAAAAAABARIf/aAAgBAwEBPwFUf//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABwQAAEEAwEAAAAAAAAAAAAAAAEAECExAhEiQf/aAAgBAQAGPwLoytXDZn2kC3//xAAbEAEAAgIDAAAAAAAAAAAAAAABABEhQVFhcf/aAAgBAQABPyGr0gCWDaNskC8RTog8S03GMf/aAAwDAQACAAMAAAAQ/B//xAAXEQADAQAAAAAAAAAAAAAAAAAAASEx/9oACAEDAQE/EMGiH//EABcRAQADAAAAAAAAAAAAAAAAAAEAESH/2gAIAQIBAT8QUps2bP/EABoQAQADAQEBAAAAAAAAAAAAAAEAESFRYTH/2gAIAQEAAT8QNMqahK68CNGCBBoeNYwm1kpvnxC6nuTaFVtfsRZ//9k='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Creating a twitter bot\"\n        title=\"\"\n        src=\"/static/1ad653f7e403b232b2d354ece8f3cc28/f8fb9/creating-twitter-bot-head-img.jpeg\"\n        srcset=\"/static/1ad653f7e403b232b2d354ece8f3cc28/e8976/creating-twitter-bot-head-img.jpeg 148w,\n/static/1ad653f7e403b232b2d354ece8f3cc28/63df2/creating-twitter-bot-head-img.jpeg 295w,\n/static/1ad653f7e403b232b2d354ece8f3cc28/f8fb9/creating-twitter-bot-head-img.jpeg 590w,\n/static/1ad653f7e403b232b2d354ece8f3cc28/85e3d/creating-twitter-bot-head-img.jpeg 885w,\n/static/1ad653f7e403b232b2d354ece8f3cc28/d1924/creating-twitter-bot-head-img.jpeg 1180w,\n/static/1ad653f7e403b232b2d354ece8f3cc28/30631/creating-twitter-bot-head-img.jpeg 1600w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<h6>Photo by freestocks.org on Unsplash</h6>\n<p>Nowadays the use of social networks is considered a normal thing, something that is part of our daily life. Maybe most of the people even don’t think about it. They just use them automatically. Just like that.</p>\n<p>But some of these people may also ask the question which made me write this article — what do we get from these networks for giving them our personal data, our interests and preferences? What can we use them for?</p>\n<p>Well, creating a Twitter bot is not new nor hot topic (not even hard to do), but it’s one of those things I am alluding about. Twitter is a social network that generates and uses enormous data flows from people to people. And the so called bots in this network are actually small programs written in a certain programming language.</p>\n<p><em>One of the most valuable thing we can get from the social networks is the data. And we can do that in an automated way. Here is where these pieces of software, the bots, can help us.</em></p>\n<p>If you google the topic, you will see that one of the most common examples for a Twitter bot is the one that retweets or likes certain tweets, searched by certain criteria. That criteria can be defined by the creator of the bot. The more I was reading on the topic, the more I was thinking about what can I do with such bot. Also I had to make sure that this is not going to spam and annoy other people. Again, the simplest answer is the right one. <strong>I have decided to create a bot that will send me private messages with information about tweets related to topics I am interested in.</strong> Very shortly after I did the first version (started around 5 in the morning, hence the title of the article :)) I thought myself that I have to do it a bit more useful for the other people as well.</p>\n<p>This is how I ended up creating a Twitter bot with Node.js that sends direct messages to his followers with information about tweets relevant to certain search criteria.</p>\n<p>Enough talking for now, let’s begin the fun part.</p>\n<p><strong>TL;DR</strong></p>\n<p>The rest of the article will be a step by step tutorial of how to create a twitter bot and deploy it to <a href=\"https://www.heroku.com\" title=\"Heroku&#x27;s Homepage\">Heroku</a>. The bot will be sending private messages to his followers. The messages will contain tweets related to predefined search criteria. You may already be familiar with the term #hashtag. Practically such hashtags are going to be our search criteria or the words by which we will filter the tweets. In my case I have selected to use the following: #js, #javascript, #JavaScript, #JS, #Javascript, #react, #reactjs, #nodejs, #Nodejs. Which means that the bot will send messages with tweets mentioning them. Then we will fetch the IDs of all the followers that the bot has and use them to send direct messages back to them.</p>\n<p>If you want to skip right to the code, here is the <a href=\"https://github.com/mihailgaberov/twitter-bot\" title=\"Twitter bot GitHub repo\">GitHub repo</a>.</p>\n<p>Initial setup\nSetup the project via <strong><em>npm</em></strong>:</p>\n<p>Since this is going to be Node.js based project, it makes sense to use the famous node package manager <a href=\"https://www.npmjs.com/\">NPM</a>. First, make sure you have <a href=\"https://nodejs.org/en/\">Node.js</a> installed and then you can use <em>npm</em>.</p>\n<p>After you are done with the installations you can setup a simple project for our bot. In order to start, type the following in your terminal:</p>\n<ol>\n<li><strong><em>npm init</em></strong></li>\n<li>Answer the questions that npm asks you to create your package.json file (you can skip this and use the defaults answers by adding <strong>-y</strong> parameter like so: <strong><em>npm init -y</em></strong>)</li>\n<li>Install the dependencies we need by typing: <strong><em>npm i twit dotenv --save-dev</em></strong>. This will install all the packages we need to create our bot. (‘i’ is short for ‘install’)</li>\n</ol>\n<p><em>Note about packages</em>: both packages are famous in what they do. The first one, <a href=\"https://www.npmjs.com/package/dotenv\">dotenv</a>, is for handling the <a href=\"https://en.wikipedia.org/wiki/Environment_variable\">environment variables</a> via .env file. This is where we will store our API keys and tokens. The second one, <a href=\"https://www.npmjs.com/package/twit\">twit</a>, is a Twitter API client for Node.js, which is providing a nice and easy to use interface for interacting with Twitter API.</p>\n<p><strong>Configuration settings</strong></p>\n<p>In order to be able to consume the <a href=\"https://developer.twitter.com/en/docs\">Twitter API</a>, we need to obtain four things: consumer key, consumer secret, access token and access token secret. These are simple strings as you will see in a moment. The only thing you need to do, to get these, is a Twitter account. Once you got it, go to <a href=\"https://apps.twitter.com/\">https://apps.twitter.com/</a> and create new app.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2fe5675adff846fe7eb95e06e2e29734/a5a39/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 52.91353383458647%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAAAwklEQVQoz9WNWwuCMBiG9///QQThH+kuqNsO5mGmgbp52Ax0eJyziRiUEnbZw3Ox72Xv94Gt4e1tvIPezvIPTnAK0+UCRU8UI9mocf/Q6focro54IpoLMcA29G9mSiPsWNS7N2XRLQaY0DIgREF4uWqqpqeMtV3XtC1vRTPKhbQPh/wl+FgmhKiqijFGCKGESh5JEveQoijqun67LCaUZSn/5XkeRZHrugihLMvkOFOeXm5GhhUS2RkSzvm38k/8afkJ/0p1VFnHcn8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Configuration settings\"\n        title=\"\"\n        src=\"/static/2fe5675adff846fe7eb95e06e2e29734/40fad/1.png\"\n        srcset=\"/static/2fe5675adff846fe7eb95e06e2e29734/707e9/1.png 148w,\n/static/2fe5675adff846fe7eb95e06e2e29734/649e0/1.png 295w,\n/static/2fe5675adff846fe7eb95e06e2e29734/40fad/1.png 590w,\n/static/2fe5675adff846fe7eb95e06e2e29734/b3fef/1.png 885w,\n/static/2fe5675adff846fe7eb95e06e2e29734/a5a39/1.png 1064w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>Then you have to go to “Keys and Access Tokens” tab and generate your tokens by clicking the button on the bottom.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/869ec6b9854108beb298d14c895cc0d3/c9722/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 91.6013437849944%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAIAAADUsmlHAAAACXBIWXMAAAsSAAALEgHS3X78AAABkklEQVQ4y41Ti7aCIBD0/7+yAjUrAQFBQOwOYPa43sdEHMDdZXZ2qfTkB+NGF256AoZhkBlYOB/Y6LhxcVnue6hwXEbIBjHG8MAcowszBpx3UV2v3eXS3a5XjKaprbX3f6OilNR1fT6fu647Ho+cC++9zUAWxpgxQyllrMVGKumcW53xGR+01shzmpwQvO97hhhCMMY3uyWnXdg+b9ZKiQE/wTPsZBGOw5v1nDFEHDVMkn4Ihy1m3FRCVLgWjrBwiS14JaaI0gsllGGDxgLMcD6uKRjks95cahO8L6ySW99LmLtZ2qBcUFOSe18wWCPamk+M8IR4Psfa8JHq0znrqVHeYqSyeh/1/LFUu6e7LbF/MyXkdCKoM6UoeAfOaK8yb8DWvQMnFZqBnMjhcECrEEIooci5bVsIibnBaFpa16gdHKYXJGf81QNSqlTUtJBgVJ5H2UJU/w7QqeYZ/Z+Q1V5eef5N25itf1MDx28l/U0w6EQykBgexkav3AaUKu6XCqmPuScLyiMpRHRG0abgwXfFF+UzFb34dqRpAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Keys and Access Tokens\"\n        title=\"\"\n        src=\"/static/869ec6b9854108beb298d14c895cc0d3/40fad/2.png\"\n        srcset=\"/static/869ec6b9854108beb298d14c895cc0d3/707e9/2.png 148w,\n/static/869ec6b9854108beb298d14c895cc0d3/649e0/2.png 295w,\n/static/869ec6b9854108beb298d14c895cc0d3/40fad/2.png 590w,\n/static/869ec6b9854108beb298d14c895cc0d3/b3fef/2.png 885w,\n/static/869ec6b9854108beb298d14c895cc0d3/c9722/2.png 893w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>Now once you have these configurations we are ready to continue. Go back to your project and create a new file. You can name it <em>config.js</em>. Put the following code in it:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'dotenv'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">config</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nmodule<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n consumer_key<span class=\"token punctuation\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">CONSUMER_KEY</span><span class=\"token punctuation\">,</span>\n consumer_secret<span class=\"token punctuation\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">CONSUMER_SECRET</span><span class=\"token punctuation\">,</span>\n access_token<span class=\"token punctuation\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">ACCESS_TOKEN</span><span class=\"token punctuation\">,</span>\n access_token_secret<span class=\"token punctuation\">:</span> process<span class=\"token punctuation\">.</span>env<span class=\"token punctuation\">.</span><span class=\"token constant\">ACCESS_TOKEN_SECRET</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>This is just a simple object containing the configurations we need. By using <a href=\"https://nodejs.org/api/modules.html\">Node.js module exporting</a> we are exposing it for later use.</p>\n<p>Then create another file in the main project directory and name it <a href=\"https://www.twilio.com/blog/2017/08/working-with-environment-variables-in-node-js.html\">.env</a> — this is where we will put our previously generated keys. Here is how it should look like:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token constant\">CONSUMER_KEY</span><span class=\"token operator\">=</span>jsjIiJsjNslaxxxxxxxxxx\n<span class=\"token constant\">CONSUMER_SECRET</span><span class=\"token operator\">=</span>ksjdhdjdxxxxxxxx\n<span class=\"token constant\">ACCESS_TOKEN</span><span class=\"token operator\">=</span>jdjwowlgxxxxxxxxxxxx\n<span class=\"token constant\">ACCESS_TOKEN_SECRET</span><span class=\"token operator\">=</span>jsoJdPxxxxx</code></pre></div>\n<p>Of course, the values of the keys are your personal secret keys and that is why you <strong>must not</strong> commit this file to a public repository.</p>\n<p><strong>Interacting with Twitter API</strong></p>\n<p>Once we are done with the configurations we can start implementing the main logic of our bot. We will put that logic in a new file — <em>bot.js</em> (of course you can name yours as you wish).</p>\n<p>Start by requiring (e.g. importing) the dependencies we have:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> Twit <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'twit'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> config <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./config'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> helpers <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./helpers'</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>The first one is the package we installed to help us manipulating easily Twitter APIs. The second one is our configurations and the last one is a small helper file which will contain some useful functions we can reuse. I will explain this more in detail a bit later.</p>\n<p>As a side note I must mention that the Node.js version I am using is the last stable one. If you don’t want to explicitly update yours, I would suggest to try this tutorial with your current one — if it’s working, don’t bother.</p>\n<p>This is how eventually your project structure will look like by now:</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6738ab6f4f9db4b0ab0002660974f3c8/a38b9/3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 237px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 99.57805907172997%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsSAAALEgHS3X78AAAClklEQVQ4y41T227TQBA1T+UnUEmhRSBatWkgrS97t9fr9T2+xE7SpBIqVSkgIQoF8QhPPPSXmSQSClUvSMfWzOwZnZ3ZGQMRhDBigmOCCSVcMABhBFP8FxCHU4znzLkxB4K4cTwbjpvs9Pzsx89fWSLzVJW5TiKRp/4gC8pMFeCGvCyitk7qIizyAFCXERCMJFZRKMNIVU2tlAgCL9RSa0+DEfpR6EWhHyihtUwTncRBHCsggAFBw3Rw37R0kr85++gQ7vmKMGEhcg0mwsBcgCyAIWg4hIHlBXHeTCDNlQpRbtpoybMxXQH716Xz5L5pT6azi6+XNmE6TpUOpY5UGHt+cI19Q/KB5VTD9uzdey71cDQeFOWgGuZlFaepjchdyfDBDYUMqvGMe5K5PvcUIuxwcfN7lemBTU9bevWJNXWWDOq6HUkVWHNNdk/yUtlVejiZQQmEudAzwl3MBLj/o0xOWn514RdFMqiaatg0ownoY8qtu2u2MD0EZV/VbYsZR4tHJsIDcTi6Gwah1HJA2fv9JWnrwXR2PJ5MQLxtmzhJYZoxnQ/3jTDWu/jRLupiHuXRRg93emyzLzr75Mlr3ulROH3cxeu3wHj4DD/oHG7SYXTyvWNn21675wNGO7J9wYptt9mw07UtZ+0ZWtu6DmPrFXm6j/aw4lm7Y7k7pnhpil1HdpG/a8ttUzzvUyAANnsYyKuAmpllO3nVnH++jLNsUW0LPzCSLK/rGoyyrKAFWmsHWrBa87LbMgjb8ZS7vpCKudJTIUQwF1RILgNfh/Ac8PImbNhqt2EZTMtRw6Piw7e4qMq6SYuqBumjqY6TQVn5QQjDv9zBGybMRtiKy4P2rRulQRQrHUFCECcgDhsmPP+2UfkD2Ic+IR/zB8QAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Project Structure\"\n        title=\"\"\n        src=\"/static/6738ab6f4f9db4b0ab0002660974f3c8/a38b9/3.png\"\n        srcset=\"/static/6738ab6f4f9db4b0ab0002660974f3c8/bf9a8/3.png 148w,\n/static/6738ab6f4f9db4b0ab0002660974f3c8/a38b9/3.png 237w\"\n        sizes=\"(max-width: 237px) 100vw, 237px\"\n      />\n  </span>\n  </a></p>\n<p>The next step is to initialize the Twit client by passing our config as an input argument:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> Twitter <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Twit</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span></code></pre></div>\n<p>Right after this, is where the implementation of our main function goes. It implements all the logic we need to fetch tweets, filter them as per our search criteria and send direct messages to the followers of our bot.</p>\n<p><strong>Searching</strong></p>\n<p>We start with the searching functionality by using the <em>get()</em> method from twit package for sending a GET request to <em>search/tweets</em> end point. We also pass a params object, containing our search preferences, such as the hashtags we talked about and also some other filters.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">sendDirectMessage</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> params <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  q<span class=\"token punctuation\">:</span> <span class=\"token string\">'#js, #javascript, #JavaScript, #JS, #Javascript, #react,'</span> <span class=\"token operator\">+</span>\n<span class=\"token string\">'#reactjs, #nodejs, #Nodejs, -filter:retweets'</span><span class=\"token punctuation\">,</span>\n  result_type<span class=\"token punctuation\">:</span> <span class=\"token string\">'recent'</span><span class=\"token punctuation\">,</span>\n  lang<span class=\"token punctuation\">:</span> <span class=\"token string\">'en'</span>\n<span class=\"token punctuation\">}</span>\nTwitter<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'search/tweets'</span><span class=\"token punctuation\">,</span> params<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>…<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>Filtering the response</strong></p>\n<p>Pay attention to the last part of the ‘q’ property. This is a filter provided by <a href=\"https://developer.twitter.com/en/docs/tweets/search/api-reference/get-search-tweets.html\">Twitter API</a> that allows us to filter the results we will get and make sure we don’t receive any retweets. This help us to reduce the duplicates in the bot’s report messages.</p>\n<p><em>result</em>type_ is another flag provided by Twitter, that narrows the results to include only recently published tweets.</p>\n<p><strong>Generate the content</strong></p>\n<p>Next step is to generate the content of the messages the bot will be sending to his followers. This is done by simply iterating <em>data.statuses</em> array which contains all the tweets returned by the search request we did. Then I am using <a href=\"http://es6-features.org/#StringInterpolation\">ES6 string templates</a> to compose the <em>content</em> object, which in the end is just another, a bit longer, string that will serve as the actual content of the messages.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">data<span class=\"token punctuation\">.</span>statuses<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>status<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  content <span class=\"token operator\">+=</span> <span class=\"token template-string\"><span class=\"token string\">` — — New Tweet:\\n\n  Status text: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>status<span class=\"token punctuation\">.</span>text<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> \\n\n  By: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>status<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\\n\\n`</span></span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>Get the followers</strong></p>\n<p>Then we need to do another request, in order to get the IDs of all followers. We will use these IDs when we implement the functionality behind the actual sending. This is done by hitting <em>‘followers/ids’</em> end point and passing the id and the screen name of our bot (only the id is required parameter though).</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">Twitter<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'followers/ids'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n  user_id<span class=\"token punctuation\">:</span> <span class=\"token number\">982290988562608129</span><span class=\"token punctuation\">,</span>\n  screen_name<span class=\"token punctuation\">:</span> <span class=\"token string\">'herrklinkerhof3'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>…<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>Sending messages</strong></p>\n<p>In the callback part of our request for getting the followers IDs is where the logic for sending direct messages is. We use another loop (<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\">forEach</a> JavaScript array’s method) to iterate through the followers IDs and we do a POST request to <em>‘direct</em>messages/events/new’_ per each of them, posting the content we composed earlier.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">response<span class=\"token punctuation\">.</span>ids<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  Twitter<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'direct_messages/events/new'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n    event<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">'type'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'message_create'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string\">'message_create'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'target'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">'recipient_id'</span><span class=\"token punctuation\">:</span> id\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'message_data'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token string\">'text'</span><span class=\"token punctuation\">:</span> content<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>…<span class=\"token punctuation\">}</span></code></pre></div>\n<p>And that’s it. In the bottom of the file we just call our newly created function.</p>\n<p><strong>Error handling</strong></p>\n<p>In this tutorial there is no actual error handling implemented. This would be a topic for another article. Here, for simplicity sake, we just console log the errors.</p>\n<p><strong>Full code</strong></p>\n<p>After you finish all steps, your file should look something like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> Twit <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'twit'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> config <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./config'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> helpers <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./helpers'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> Twitter <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Twit</span><span class=\"token punctuation\">(</span>config<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">sendDirectMessage</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> params <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    q<span class=\"token punctuation\">:</span> <span class=\"token string\">'#js, #javascript, #JavaScript, #JS, #Javascript, #react, '</span> <span class=\"token operator\">+</span>\n     <span class=\"token string\">'#reactjs, #nodejs, #Nodejs, -filter:retweets'</span><span class=\"token punctuation\">,</span>\n    result_type<span class=\"token punctuation\">:</span> <span class=\"token string\">'recent'</span><span class=\"token punctuation\">,</span>\n    lang<span class=\"token punctuation\">:</span> <span class=\"token string\">'en'</span>\n  <span class=\"token punctuation\">}</span>\n  Twitter<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'search/tweets'</span><span class=\"token punctuation\">,</span> params<span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">let</span> content <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`== New report (from </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>helpers<span class=\"token punctuation\">.</span><span class=\"token function\">getCurrentTime</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">          \n       (</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>data<span class=\"token punctuation\">.</span>statuses<span class=\"token punctuation\">.</span>length<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> tweets)) ==\\n`</span></span>\n      data<span class=\"token punctuation\">.</span>statuses<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>status<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        content <span class=\"token operator\">+=</span> <span class=\"token template-string\"><span class=\"token string\">` — — New Tweet:\\n\n        Status text: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>status<span class=\"token punctuation\">.</span>text<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> \\n\n        By: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>status<span class=\"token punctuation\">.</span>user<span class=\"token punctuation\">.</span>name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\\n\\n`</span></span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      Twitter<span class=\"token punctuation\">.</span><span class=\"token keyword\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">'followers/ids'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n        user_id<span class=\"token punctuation\">:</span> <span class=\"token number\">982290988562608129</span><span class=\"token punctuation\">,</span>\n        screen_name<span class=\"token punctuation\">:</span> <span class=\"token string\">'herrklinkerhof3'</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n           <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n             console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Something went wrong while getting'</span> <span class=\"token operator\">+</span>\n              <span class=\"token string\">' followers. Error: '</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">)</span>\n           <span class=\"token punctuation\">}</span>\n           <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n             response<span class=\"token punctuation\">.</span>ids<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n               Twitter<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">'direct_messages/events/new'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n                 event<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                   <span class=\"token string\">'type'</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'message_create'</span><span class=\"token punctuation\">,</span>\n                   <span class=\"token string\">'message_create'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                     <span class=\"token string\">'target'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                       <span class=\"token string\">'recipient_id'</span><span class=\"token punctuation\">:</span> id\n                     <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                     <span class=\"token string\">'message_data'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                       <span class=\"token string\">'text'</span><span class=\"token punctuation\">:</span> content<span class=\"token punctuation\">,</span>\n                     <span class=\"token punctuation\">}</span>\n                   <span class=\"token punctuation\">}</span>\n                 <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n           <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n             console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Message sent. Response: '</span><span class=\"token punctuation\">,</span> response<span class=\"token punctuation\">)</span>\n           <span class=\"token punctuation\">}</span>\n           <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n             console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Something went wrong while sending'</span> <span class=\"token operator\">+</span>\n              <span class=\"token string\">' message. Error: '</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">)</span>\n           <span class=\"token punctuation\">}</span>\n         <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n       <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n     <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n       console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Something went wrong while searching.'</span><span class=\"token punctuation\">)</span>\n     <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token function\">sendDirectMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p><strong>What is the current time</strong></p>\n<p>I mentioned earlier the helpers file (<em>helpers.js</em>). At this time it only has one function, but it easily could have as many as you need. The idea behind this is to show you how convenient and easy to work with is when you modularize your code and make it reusable. The function in question is used to get the current time that we include in the header of the reports. Simple as that.</p>\n<p><strong>Running the bot locally</strong></p>\n<p>To run the bot locally the only thing you have to do is open your terminal and type the following:</p>\n<p><em>npm start</em></p>\n<p>If everything is good you will see ‘Message sent. Response: …’ message in the console and all the existing followers will receive the generated message.</p>\n<p><strong>Deploying to Heroku</strong></p>\n<p>After we finish the coding, it’s time to deploy our work somewhere. One of the most famous hosting platforms out there is called <a href=\"https://id.heroku.com/login\">Heroku</a>. We are going to use it for hosting our bot application. It gives you options to open a free account and have up to 5 web applications deployed (they will give you more if you verify yourself with a credit card number). After you create your account and login you will see a menu “New” in the top part of the screen, that you can use to create a new application.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5bb2d8d84e5d0f403ac1cddc6ee84e7c/9b269/4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 7.972027972027973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAIAAADXZGvcAAAACXBIWXMAAAsSAAALEgHS3X78AAAAPUlEQVQI133KMQ7AIAwEQf7/VaiC4e5sIwWlIKkiTbXagulkSHkAMeEHlZt8KV70XbK0enXD937Ev260oRvHv3RePA62kwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Deploying to Heroku\"\n        title=\"\"\n        src=\"/static/5bb2d8d84e5d0f403ac1cddc6ee84e7c/40fad/4.png\"\n        srcset=\"/static/5bb2d8d84e5d0f403ac1cddc6ee84e7c/707e9/4.png 148w,\n/static/5bb2d8d84e5d0f403ac1cddc6ee84e7c/649e0/4.png 295w,\n/static/5bb2d8d84e5d0f403ac1cddc6ee84e7c/40fad/4.png 590w,\n/static/5bb2d8d84e5d0f403ac1cddc6ee84e7c/b3fef/4.png 885w,\n/static/5bb2d8d84e5d0f403ac1cddc6ee84e7c/301c0/4.png 1180w,\n/static/5bb2d8d84e5d0f403ac1cddc6ee84e7c/9b269/4.png 1430w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>You can name your application as you want.</p>\n<p><strong>Config variables</strong></p>\n<p>After you create your new app you should be able to find the “Settings” tab. Go there and click “Reveal Config Vars” button. Here you can enter your configuration variables (you remember — your consumer and API keys).</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ecf18cf8490154778e95cc6163fa8b94/6da3a/5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 67.0064874884152%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAABHElEQVQoz4VS0W6DMAzM///iXvoybZS2hDhOYjuBHaChqnTMOolwju2zY/d5eXTffqTUfdHlo7sPvrs+fOAiNRc7h4tRrv0weCKWQJm4+JEpFpFaSkWKIiaKsx3hVE21mlkRtVpFDJ+VXCAKs0i51jYdzLUndp5f3fNCzaZ1O7+Yk6LIOr8zBDAzEYnIi0uloqqbT621qbXpWHYj3PP/juO9YzDg0I9kVbG3skX+bGqpHAL3/XC7+TGguziOlHP51dwWMkZbZ11b25FyjswOw4icYkzMqVa8GVxtbxiuQJGRb33tDXhLcMjrTqfVsHrDGKAqpWLasBG6BoO5P4bz4AnpfSCsDwQty7PCrEHR/5VxA5Uhcte8yV6SjvQDzkL8IWhnkc0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Config variables\"\n        title=\"\"\n        src=\"/static/ecf18cf8490154778e95cc6163fa8b94/40fad/5.png\"\n        srcset=\"/static/ecf18cf8490154778e95cc6163fa8b94/707e9/5.png 148w,\n/static/ecf18cf8490154778e95cc6163fa8b94/649e0/5.png 295w,\n/static/ecf18cf8490154778e95cc6163fa8b94/40fad/5.png 590w,\n/static/ecf18cf8490154778e95cc6163fa8b94/b3fef/5.png 885w,\n/static/ecf18cf8490154778e95cc6163fa8b94/6da3a/5.png 1079w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>After you add them, there is just one more thing to do, in order to deploy your app. Go to the “Deploy” tab and connect your GitHub repository to the app. Then enable the automatic deploys and that’s all.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/91a073e7847b6be4e310e7e67ce16e15/9c1c0/6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 46.9468154957321%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAAA80lEQVQoz21QC3LFIAj0/oetFQF/YLrEtO912h2GaGRh2TTHGn2uZdc39t6zL7etqjln86VzIwBzn3MhcEZl8sA+l4fsu0ftxSy55OVLxkY3ADPmNDM/lSlYOwhv9Bh+WuIpvrjY74Jl+JmocP4olQTizzuyqBJV+pRKyqzCyrVhIBrd4cZsfRzZ58/+IbM0IqGihYS59b5a+OKvsI2cQvOt/B37hed8/YckHEMaOs/Hc5RW4VIogmqtjKTaFAp6P27ftZ7GnOM4GL7EBCzAglUFWVsbY/Y+0L23AcYRcnZMf8WAHNMIY6mPEfaEVW53vG/wBU/TEaJLo+JfAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Config variables\"\n        title=\"\"\n        src=\"/static/91a073e7847b6be4e310e7e67ce16e15/40fad/6.png\"\n        srcset=\"/static/91a073e7847b6be4e310e7e67ce16e15/707e9/6.png 148w,\n/static/91a073e7847b6be4e310e7e67ce16e15/649e0/6.png 295w,\n/static/91a073e7847b6be4e310e7e67ce16e15/40fad/6.png 590w,\n/static/91a073e7847b6be4e310e7e67ce16e15/b3fef/6.png 885w,\n/static/91a073e7847b6be4e310e7e67ce16e15/301c0/6.png 1180w,\n/static/91a073e7847b6be4e310e7e67ce16e15/9c1c0/6.png 1523w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>On the bottom of the same page you will find ”Deploy branch” button. Use it to start your first deployment.</p>\n<p>With that done you should have your bot deployed to Heroku. If you have enabled the automatic deploys, every time when you commit something to your GitHub repository a new deploy will be triggered.</p>\n<p><strong>Heroku Scheduler</strong></p>\n<p>There is something very useful that we can use in Heroku, when we want to trigger certain tasks at certain period of time. It’s called <a href=\"https://devcenter.heroku.com/articles/scheduler\">Heroku Scheduler</a>, a plug-in that allows you exactly that. You can find it under “Resources” tab.</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b1bad3e85b04c0469c1d848d059ca499/68c59/7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 399px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 45.86466165413534%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAAAyklEQVQoz5WRTU7EMAyFc/9bcAX2HIMNQsOiMNP8lZSkcezYKcnAjhmpPH2y7IWfE1uJCEApBRFJWPa2H0f1hststPXW+e6y/0eqtZ2AqXDFRkUQGDY6iMJcF5vWkJzxZnaLC1iG1xGuzS7FCM56fdbdAqEeRDFLDNv0ekprJhjPzgnzV4FEP4wy3mb82V6mp8cHp9/XpczT4nX8NNGeV/MR9BQQ6O7CWGSL8e3lGfJGVHHcbJxthN8c6Y765FZrd+jxKubB3/yWvgG4Hgthp17MZgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Heroku Scheduler\"\n        title=\"\"\n        src=\"/static/b1bad3e85b04c0469c1d848d059ca499/68c59/7.png\"\n        srcset=\"/static/b1bad3e85b04c0469c1d848d059ca499/7cfef/7.png 148w,\n/static/b1bad3e85b04c0469c1d848d059ca499/e71f8/7.png 295w,\n/static/b1bad3e85b04c0469c1d848d059ca499/68c59/7.png 399w\"\n        sizes=\"(max-width: 399px) 100vw, 399px\"\n      />\n  </span>\n  </a></p>\n<p>You will be able to use it for free if you have entered your credit card details. In our case we will use it to run the bot at certain time which means that it will execute the logic for searching and sending messages that we implemented. We do this by adding a job to be run by the scheduler like so:</p>\n<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/883881d42dc0e2afdfc5d8251f90117e/d2eca/8.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 33.22981366459627%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAAA/klEQVQY03WOy07DMBBF/fdduRtYxF0hEI8iSkohKardSklA0EU3fEibOA7xqzFjB6qCxNFd3PHMnTGSUgrRNM2n1tp69kEHjv3fLlJat1IqKX3HY3/MN13guHTO9R7BTRh2AYhVFdfa9CW0eV3DgDH+BWKiFsChRDUXWhnZKqNt28qq5MZYyEOppCqBXcnDRqU0mO12BwfAwwrkP9pZiLrf7OGw69w/dEFofJrFo9eYvEx7RcWMeNGLNbtcs/O3hORplKckn5P8OcpAC5LNT1ab5AOdDejVcHWNl6AbvBx7sVvMHknxNCqSKJ9gNsE0xnQa9IDpbEjvB+n73eYL1cl3YzPROfIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"Heroku Scheduler\"\n        title=\"\"\n        src=\"/static/883881d42dc0e2afdfc5d8251f90117e/40fad/8.png\"\n        srcset=\"/static/883881d42dc0e2afdfc5d8251f90117e/707e9/8.png 148w,\n/static/883881d42dc0e2afdfc5d8251f90117e/649e0/8.png 295w,\n/static/883881d42dc0e2afdfc5d8251f90117e/40fad/8.png 590w,\n/static/883881d42dc0e2afdfc5d8251f90117e/b3fef/8.png 885w,\n/static/883881d42dc0e2afdfc5d8251f90117e/d2eca/8.png 966w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<p>This way we can have regular reports and be up to date with what the people are tweeting for, regarding our predefined interests. I used that for my implementation and it gets triggered each morning at 5:30 UTC.</p>\n<p><strong>Conclusion</strong></p>\n<p>By now you should have a fully working Twitter bot deployed on Heroku or at least the idea of how to achieve that. What we did, in summary, is that we saw how we can make the social networks work for us by implementing a Twitter bot and making him look for information we are interested in and send us reports as direct messages. Moreover we have added a piece of usefulness not only for us, but for whoever is interested in the same topics by allowing the followers of the bot to get those reports as well. I hope this was an interesting journey for you as much as it was for me. Feel free to send me your questions or critiques, or you can just share your experience.</p>\n<p><strong>To be continued…</strong></p>\n<p>In another article we will see how can we use a database to store the last search results from those tweets and generate reports with only unique new tweets. Stay tuned.</p>\n<p><strong>UPDATE</strong></p>\n<p><em>I have reduced the initial number of the hashtags used for searching and used the <a href=\"https://developer.twitter.com/en/docs/tweets/search/guides/standard-operators\">OR operator</a> for better search results.</em></p>\n<p><em>You can find my implementation here <a href=\"https://github.com/mihailgaberov/twitter-bot\">https://github.com/mihailgaberov/twitter-bot</a>. If you want to start receiving the same reports as me, follow my bot in Twitter @HerrKlinkerhof3</em></p>","frontmatter":{"title":"Creating a Twitter bot at 5am"}}},"pageContext":{"slug":"/creating-twitter-bot/"}}