{"data":{"markdownRemark":{"html":"<p><a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e55b41e4a3bbf5909e474800742db712/0b287/react-hooks-head.jpeg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 66.64999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFAv/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAaS09gUNB//EABoQAAIDAQEAAAAAAAAAAAAAAAABAgMREiH/2gAIAQEAAQUCdqRK2TJdbXpvjkz/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAZEAACAwEAAAAAAAAAAAAAAAAAERAhIhL/2gAIAQEABj8CzGeUNlVH/8QAGhABAAIDAQAAAAAAAAAAAAAAAQARITFBgf/aAAgBAQABPyHCC63caRyPAjd6OMRJE9clrQG7vyf/2gAMAwEAAgADAAAAEIMP/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAERIUH/2gAIAQMBAT8QhYWf/8QAFREBAQAAAAAAAAAAAAAAAAAAARD/2gAIAQIBAT8QVn//xAAdEAEAAgICAwAAAAAAAAAAAAABABExUSFhQYHR/9oACAEBAAE/EHA/mKiutxGzCYUdxOCcNYUQvTUuKnK1MrtY7Pcj5P/Z'); background-size: cover; display: block;\"\n    ></span>\n    <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px white;\"\n        alt=\"React hooks: a new way of working with React state\"\n        title=\"\"\n        src=\"/static/e55b41e4a3bbf5909e474800742db712/f8fb9/react-hooks-head.jpeg\"\n        srcset=\"/static/e55b41e4a3bbf5909e474800742db712/e8976/react-hooks-head.jpeg 148w,\n/static/e55b41e4a3bbf5909e474800742db712/63df2/react-hooks-head.jpeg 295w,\n/static/e55b41e4a3bbf5909e474800742db712/f8fb9/react-hooks-head.jpeg 590w,\n/static/e55b41e4a3bbf5909e474800742db712/85e3d/react-hooks-head.jpeg 885w,\n/static/e55b41e4a3bbf5909e474800742db712/d1924/react-hooks-head.jpeg 1180w,\n/static/e55b41e4a3bbf5909e474800742db712/9452e/react-hooks-head.jpeg 1770w,\n/static/e55b41e4a3bbf5909e474800742db712/0b287/react-hooks-head.jpeg 2000w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n  </span>\n  </a></p>\n<h6>Photo by <a href=\"https://unsplash.com/photos/gTQbZXL417Q?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText\">Brook Anderson</a> on <a href=\"https://unsplash.com/search/photos/unit-testing-reactjs?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText\">Unsplash</a></h6>\n<p><strong>Updated: With React 16.8, <a href=\"https://reactjs.org/docs/hooks-intro.html\">React Hooks</a> are available in a stable release!</strong></p>\n<p>Outdated: Hooks are still an experimental proposal. Theyâ€™re currently in React v16.7.0-alpha</p>\n<hr>\n<h2>TL;DR</h2>\n<p>In this article we will attempt to understand what are <a href=\"https://reactjs.org/docs/hooks-intro.html\">React Hooks</a> and how to use them for our good. We will implement different examples and see the differences (gains) Hooks bring to us. If you want to skip the reading, <a href=\"https://mihailgaberov.github.io/react-hooks/\">here</a> you can find shorter version in a few slides. And <a href=\"https://github.com/mihailgaberov/react-hooks\">here</a> ğŸ you may get the examples and try them yourself.</p>\n<hr>\n<h2>What are React Hooks?</h2>\n<blockquote>\n<p><em>Simple functions for hooking into the React state and lifecycle features from function components.</em></p>\n</blockquote>\n<p>What this means is that hooks allow us to easily manipulate our function componentâ€™s state without needing to convert them into class components. This saves us from having to deal with all the boilerplate code involved.</p>\n<p>Hooks donâ€™t work inside classesâ€Šâ€”â€Šthey let you use React without classes. And also, by using them, we can totally avoid using lifecycle methods, such as <em>componentDidMount</em>, <em>componentDidUpdate</em>, etc. Instead, we will use built-in hooks like <em>useEffect</em>, <em>useMutationEffect</em> or <em>useLayoutEffect</em>. We will see how in a moment.</p>\n<p>Hooks are JavaScript functions, but they impose two additional <a href=\"https://reactjs.org/docs/hooks-rules.html\">rules</a>:</p>\n<p>â—ï¸ Only call Hooks <strong>at the top level</strong>. Donâ€™t call Hooks inside loops, conditions, or nested functions.</p>\n<p>â—ï¸ Only call Hooks <strong>from React function components</strong>. Donâ€™t call Hooks from regular JavaScript functions. There is just one other valid place to call Hooksâ€Šâ€”â€Šyour own custom Hooks. Weâ€™ll see them later in this article.</p>\n<hr>\n<h2>Why are they good thing?</h2>\n<p>ğŸ˜Ÿ <strong>Reusing logic</strong>\nUp until now, if we wanted to reuse some logic in React, we had two options: <a href=\"https://tylermcginnis.com/react-higher-order-components/\">higher-order components</a> or <a href=\"https://www.robinwieruch.de/react-render-props-pattern/\">render props</a>. With React Hooks we have an alternative, that comes with a much easier to understand (in my personal opinion!) syntax and logic flow.</p>\n<p>ğŸ˜Ÿ <strong>Giant components</strong></p>\n<p>By avoiding the boilerplate code we need to write when using classes or by removing the need for multiple nesting levels (which could come when using render props), React Hooks solve the issue of having giants components (that are really hard to maintain and debug).</p>\n<p>ğŸ˜Ÿ Confusing classes\nAgain, allowing us NOT to use classes or class components in our applications makes the developersâ€™s (especially beginnerâ€™s) life easier. This is because we donâ€™t have to use the â€˜thisâ€™ keyword and we donâ€™t need to have the understanding of how bindings and scopes work in React (and JavaScript).</p>\n<p>This is NOT to say that we (the developers) donâ€™t have to learn these conceptsâ€Šâ€”â€Šon the contrary we must be aware of them. But in this case, when using React hooks, our worries are one fewer ğŸ˜.</p>\n<blockquote>\n<p><strong>So, after pointing out what issues the hooks solve, when would we use them?</strong></p>\n</blockquote>\n<blockquote>\n<p>If you write a function component and realize you need to add some state to it, previously you had to convert it to a class. Now you can use a Hook inside the existing function component. Weâ€™re going to do that in the next examples.</p>\n</blockquote>\n<hr>\n<h2>How to use React Hooks?</h2>\n<p>React Hooks come to us as <a href=\"https://reactjs.org/docs/hooks-overview.html\">built-in ones</a> and <a href=\"https://reactjs.org/docs/hooks-custom.html\">custom ones</a>. The later are the ones we can use for sharing logic across multiple React components.</p>\n<p>As weâ€™ve already learned, hooks are simple JavaScript functions, which means we will be writing just that, but in the context of React <em>function</em> components. Previously these components were called <em>stateless</em>, a term that is not valid anymore, as <em>hooks</em> give us a way to use the state in such components ğŸ™Œ.</p>\n<blockquote>\n<p>An important thing to remember is that we can use both built-in and custom hooks multiple times in our components. We just have to follow the <a href=\"https://reactjs.org/docs/hooks-rules.html\">rules of hooks</a>.</p>\n</blockquote>\n<p>The following examples try to illustrate that.</p>\n<hr>\n<h2>Basic built-in hooks</h2>\n<ul>\n<li><a href=\"https://github.com/mihailgaberov/react-hooks/blob/master/src/components/Counter/CounterHooked.js\">useState</a> hookâ€Šâ€”â€Šreturns a stateful value and a function to update it.</li>\n<li><a href=\"https://reactjs.org/docs/hooks-effect.html\">useEffect</a> hookâ€Šâ€”â€Šaccepts a function that contains imperative, possibly effectful code (for example fetching data or subscribing to a service). This hook could return a function that is being executed every time before the effect runs and when the component is unmountedâ€Šâ€”â€Što clean up from the last run.</li>\n<li><a href=\"https://github.com/mihailgaberov/react-hooks/blob/master/src/components/Counter/CounterHooked.js\">useContext</a> hookâ€Šâ€”â€Šaccepts a <a href=\"https://reactjs.org/docs/context.html\">context</a> object and returns the current <a href=\"https://github.com/mihailgaberov/react-hooks/blob/master/src/ColorContext.js\">context</a> value, as given by the nearest context provider for the given context.</li>\n</ul>\n<hr>\n<h2>Custom hooks</h2>\n<p><strong>A custom Hook is a JavaScript function whose name starts with â€œuseâ€ and that may call other Hooks</strong>. For example, <a href=\"https://github.com/mihailgaberov/react-hooks/blob/master/src/useFriendName.jshttps://github.com/mihailgaberov/react-hooks/blob/master/src/useFriendName.js\">useFriendName</a> below is our first custom Hook:</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">useFriendName</span><span class=\"token punctuation\">(</span>friendName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span>isPresent<span class=\"token punctuation\">,</span> setIsPresent<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token function\">useState</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> MockedApi<span class=\"token punctuation\">.</span><span class=\"token function\">fetchData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    data<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      res<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> friendName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token function\">setIsPresent</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n     <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> isPresent<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Building your own custom hooks lets you extract component logic into reusable functions. This could be your applicationâ€™s shared functionality that you can import everywhere you need it. And also, we must not forget, that our custom hooks are the other allowed (<a href=\"https://reactjs.org/docs/hooks-rules.html#only-call-hooks-from-react-functions\">see the rules</a>) places to call built-in hooks.</p>\n<hr>\n<h2>Conclusion</h2>\n<p>React Hooks are not really a new feature that popped out just now. They are another (better â“) way of doing React components that need to have state and/or lifecycle methods. Actually, they use the same internal logic that is being used currently by the class components. To use them or notâ€Šâ€”â€Šthis is the question to which the future will give the best answer.</p>\n<blockquote>\n<p>My personal opinion? That this is going to be the future of any React development that involves state and lifecycle usage.</p>\n</blockquote>\n<p>Letâ€™s see how the community will react to the proposal ğŸ““ and hopefully we will see them polished and fully functioning in the next React releases. ğŸ€</p>\n<p>ğŸ”¥ Thanks for reading! ğŸ”¥</p>\n<hr>\n<h2>References</h2>\n<p>Here you may find the links to the resources I found useful when writing this article:</p>\n<ul>\n<li><a href=\"https://github.com/mihailgaberov/react-hooks/\">https://github.com/mihailgaberov/react-hooks/</a>â€Šâ€”â€Šlink to GitHub repo with the examples and presentation.</li>\n<li><a href=\"https://mihailgaberov.github.io/react-hooks/\">https://mihailgaberov.github.io/react-hooks/</a>â€Šâ€”â€Šlink to presentation slides.</li>\n<li><a href=\"https://reactjs.org/docs/hooks-intro.html\">https://reactjs.org/docs/hooks-intro.html</a>â€Šâ€”â€Šofficial ReactJS blog.</li>\n<li><a href=\"https://youtu.be/dpw9EHDh2bM\">https://youtu.be/dpw9EHDh2bM</a>â€Šâ€”â€ŠIntroduction to Hooks, React Conf 2018</li>\n<li><a href=\"https://medium.com/@dan_abramov/making-sense-of-react-hooksfdbde8803889\">https://medium.com/@dan_abramov/making-sense-of-react-hooksfdbde8803889</a>â€Šâ€”â€ŠAn explanatory article by Dan Abramov.</li>\n<li><a href=\"https://daveceddia.com/useeffect-hook-examples/\">https://daveceddia.com/useeffect-hook-examples/</a>â€Šâ€”â€ŠA very useful article explaining different use cases of useEffect hook.</li>\n<li><a href=\"https://ppxnl191zx.codesandbox.io/\">https://ppxnl191zx.codesandbox.io/</a>â€Šâ€”â€ŠAn example of a React animation library experimenting with Hooks.</li>\n<li><a href=\"https://dev.to/oieduardorabelo/react-hooks-how-to-create-and-update-contextprovider-1f68\">https://dev.to/oieduardorabelo/react-hooks-how-to-create-and-update-contextprovider-1f68</a>â€Šâ€”â€ŠA nice and short article showing how to create and update context provider with React Hooks.</li>\n</ul>","frontmatter":{"title":"React hooks: a new way of working with React state"}}},"pageContext":{"slug":"/react-hooks-a-new-way-of-working-with-react-state/"}}